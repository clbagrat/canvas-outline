(function(){"use strict";function c(o,l,r,n){if(l<0||l>r||o<0)return null;let e=(l+o*r)*4;return e>=n?null:e}function*g(o,l,r,n){let e=l/4%r,t=Math.floor(l/4/r),s=[];for(let i=1;i<=n;i+=1)for(let f=e-n;f<e+n;f+=1)s.push([t-i,f]),f!==e&&s.push([t,f]),s.push([t+i,f]);for(let[i,f]of s){let u=c(i,f,r,o.length);u!==null&&o[u+3]===0&&(yield{index:u})}}function*a(o,l,r){for(let n=0;n<o.length;n+=4)if(o[n+3]>0)for(let{index:e}of g(o,n,l,r))yield{index:e}}onmessage=({data:o})=>{const{imageData:l,width:r,strokeWidth:n}=o;let e=new Uint8ClampedArray(Array.from(l));console.log({imageData:l,clampedArray:e});for(let{index:t}of a(l,r,n))e[t]=147,e[t+1]=0,e[t+2]=0,e[t+3]=255;postMessage({clampedArray:e})}})();
