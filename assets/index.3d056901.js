const y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};y();function w(){return new Worker(""+new URL("worker.da640f33.js",import.meta.url).href)}const L=(s,r)=>{const o=s.getContext("2d"),n=document.createElement("img");n.src=r;const e=navigator.hardwareConcurrency;n.onload=()=>{const{width:t,height:a}=n;s.width=t,s.height=a,o.drawImage(n,0,0,t,a);const{data:d}=o.getImageData(0,0,t,a);let c=Math.floor(a/e),m=performance.now();for(let i=0;i<e;i+=1){let l=i*c*t*4,u=c*t*4;i===e-1&&(u=d.length-l);let f=new w,p=d.slice(l,l+u);f.postMessage({index:i,imageData:p,width:t,strokeWidth:1}),f.onmessage=({data:g})=>{let h=new ImageData(g.clampedArray,t);o.putImageData(h,0,i*c),i===e-1&&document.body.prepend((performance.now()-m).toString())}}}};document.querySelector("#app").innerHTML=`
  <canvas>
  </canvas>
  <input type="file" name="upload" accept=".png">
`;const v=document.querySelector("canvas");document.querySelector("input").addEventListener("change",s=>{var n;const r=s.target;if(!(r!=null&&r.files)||((n=r.files)==null?void 0:n.length)===0)return;const o=new FileReader;o.readAsDataURL(r.files[0]),o.onload=e=>{var t;L(v,(t=e.target)==null?void 0:t.result)}});
